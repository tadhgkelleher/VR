<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Web VR Graph with Circular Layout</title>
  <script src="https://aframe.io/releases/1.4.2/aframe.min.js"></script>
  <script src="https://unpkg.com/3d-force-graph-aframe"></script>
  <style>
    body {
      margin: 0;
      overflow: hidden;
    }
    #ui {
      position: absolute;
      top: 10px;
      left: 10px;
      z-index: 100;
    }
    button {
      margin: 5px;
      padding: 10px;
      font-size: 16px;
    }
  </style>
</head>
<body>
  <!-- UI Buttons -->
  <div id="ui">
    <button id="togglePhysics">Toggle Physics</button>
  </div>

  <!-- A-Frame Scene -->
  <a-scene>
    <a-entity 
      id="graph" 
      position="0 1.6 -5"
      graph-data="{}"
      warmup-ticks="0"
      cooldown-ticks="0">
    </a-entity>
    <a-sky color="#000"></a-sky>
  </a-scene>

  <script>
    const radius = 5; // Radius for circular layout

    // Graph data
    const graphData = {
      nodes: [
        { id: "1", name: "Node 1", color: "red" },
        { id: "2", name: "Node 2", color: "blue" },
        { id: "3", name: "Node 3", color: "green" },
        { id: "4", name: "Node 4", color: "yellow" },
        { id: "5", name: "Node 5", color: "purple" }
      ].map((node, index, arr) => {
        const angle = (index / arr.length) * 2 * Math.PI;
        return {
          ...node,
          x: radius * Math.cos(angle),
          y: 0,
          z: radius * Math.sin(angle)
        };
      }),
      links: [
        { source: "1", target: "2" },
        { source: "2", target: "3" },
        { source: "3", target: "4" },
        { source: "4", target: "5" },
        { source: "5", target: "1" }
      ]
    };

    // Initialize the graph
    const graphEl = document.querySelector("#graph");
    graphEl.setAttribute("graph-data", JSON.stringify(graphData));

    // Track physics state
    let isPhysicsEnabled = false;

    // Toggle physics button
    document.getElementById("togglePhysics").addEventListener("click", () => {
      isPhysicsEnabled = !isPhysicsEnabled;
      graphEl.setAttribute("warmup-ticks", isPhysicsEnabled ? "100" : "0");
      graphEl.setAttribute("cooldown-ticks", isPhysicsEnabled ? "100" : "0");
    });
  </script>
</body>
</html>
